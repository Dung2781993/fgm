@using Kendo.Mvc.UI
@using FGM.Models
@{
    ViewBag.Title = "Geelong";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<link href="@Url.Content("~/css/map.css")" rel="stylesheet" type="text/css" />

<link href="https://kendo.cdn.telerik.com/2019.1.220/styles/kendo.common-bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="https://kendo.cdn.telerik.com/2019.1.220/styles/kendo.mobile.all.min.css" rel="stylesheet" type="text/css" />
<link href="https://kendo.cdn.telerik.com/2019.1.220/styles/kendo.bootstrap.min.css" rel="stylesheet" type="text/css" />
<script src="https://kendo.cdn.telerik.com/2019.1.220/js/jquery.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2019.1.220/js/jszip.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2019.1.220/js/kendo.all.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2019.1.220/js/kendo.aspnetmvc.min.js"></script>

<style>
    #population, #ethnic, #jobPieChart {
        width: 100%;
        height: 500px;
        margin: 0;
        padding: 0;
    }


    .collapsible {
        background-color: #FFFF;
        color: black;
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 36px;
        margin-bottom: 20px;
        font-family: EB Garamond;
    }

        .active, .collapsible:hover {
            background-color: #E65100;
            color: white;
        }

        .collapsible:after {
            content: '\002B';
            color: black;
            font-weight: bold;
            float: right;
            margin-left: 5px;
        }

    .active:after {
        content: "\2212";
    }

    .content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
        background-color: white;
    }

    /*******Card Stylesheet*******/
    .border-left-primary {
        border-left: .25rem solid #4e73df !important;
    }

    .pt-2, .py-2 {
        padding-top: .5rem !important;
    }

    .h-100 {
        height: 100% !important;
    }

    .shadow {
        -webkit-box-shadow: 0 .15rem 1.75rem 0 rgba(58,59,69,.15) !important;
        box-shadow: 0 .15rem 1.75rem 0 rgba(58,59,69,.15) !important;
    }

    .card {
        position: relative;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -ms-flex-direction: column;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 1px solid #e3e6f0;
        border-radius: .35rem;
    }

    .card-body {
        -webkit-box-flex: 1;
        -ms-flex: 1 1 auto;
        flex: 1 1 auto;
        padding: 1.25rem;
    }

    .align-items-center {
        -webkit-box-align: center !important;
        -ms-flex-align: center !important;
        align-items: center !important;
    }

    .no-gutters {
        margin-right: 0;
        margin-left: 0;
    }

    .text-xs {
        font-size: .7rem;
    }

    .text-primary {
        color: #4e73df !important;
    }

    .font-weight-bold {
        font-weight: 700 !important;
    }

    .text-gray-800 {
        color: #5a5c69 !important;
    }

    .font-weight-bold {
        font-weight: 700 !important;
    }

    .mb-0, .my-0 {
        margin-bottom: 0 !important;
    }

    .fa {
        font-size: 30px;
    }
</style>

<!--Section: Description-->
<section id="geelong-description" class="section">
    <div class="container-fluid" style="padding:0px;">
        <div class="row regional-cities">
            <div class="span12" id="geelong-background"></div>
        </div>
    </div>
</section>

<!--Section: Map-->
<section id="geelong-goolge-map" class="section">
    <div class="container">
        <h4>Geelong</h4>
        <div class="row">
            <div class="span12" style="text-align:center;">
                <p>
                    Geelong is a paradise for artists and the only city in Victoria to hold the international photographic salon ‘VIGEX’.
                    The historical society and the heritage society have played a major role in safeguarding the history and culture of the city.
                    There are several pond and creek trails enjoyed by the bikers.
                    Additionally, being a home to the second oldest AFL club the Geelong Football Club Australian Football League,
                    the city holds a special place in the hearts of football fans.
                </p>
                <div id="Geelong-map"></div>
            </div>
        </div>
    </div>
</section>

<!--Section: Population ethnic groups-->
<section id="geelong-population" class="section">
    <div class="container">
        <button class="collapsible">
            Population
        </button>
        <div class="content">
            <div class="row">

                <div class="span6">
                    <div class="row">
                        <div class="span6" style="width:50%;">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="span2">
                                            <i class="fa fa-globe" aria-hidden="true"></i>
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Total population</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">273,951</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="span6" style="width:50%;">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="span2">
                                            <i class="fa fa-home" aria-hidden="true"></i>
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Australian population</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">185034</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="span6" style="width:50%;">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="span2">
                                            <i class="fa fa-plane" aria-hidden="true"></i>
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Immigrant population</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">88917</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="span6">
                    <div id="ethnic"></div>
                </div>
            </div>
            <div class="row">
                <div class="span12 demo-section k-content wide">
                    <p>
                        The total population of Geelong is estimated to be 273,951 out of which 88,917 are immigrants.
                        The city is a blend of multiple cultures and flourishes in diversity. The highest Italian speaking immigrant population resides in this city followed by Croatians. The largest Croatian community in the entire Australia is found in Geelong.
                        There is a fair share of Chinese population in the city followed by the Europeans.
                    </p>
                </div>
            </div>


        </div>
    </div>
</section>


<!--Section: Education Facilities-->
<section id="geelong-facilities" class="section">
    <div class="container">
        <button class="collapsible">
            Education Facilities
        </button>
        <div class="content">
            <div class="row">
                <div class="span12">
                    <h6 style="text-align:center; margin:auto; font-family:Brandon Grotesque; font-size: 22px; margin-bottom:20px;">
                        All your education needs can be met in Geelong, with a broad range of pathways from primary to tertiary.
                        By selecting the filter ,you will find a wide choice of public or private schooling, and multiple tertiary education options.
                    </h6>
                </div>
                <div class="span4">
                    <hr />
                    <div class="span2">
                        <select class="form-control form-control-sm filter-selection" id="educationList">
                            <option>Primary School</option>
                            <option>Secondary School</option>
                            <option>Advanced Colleges</option>
                            <option>Tertiary</option>
                            <option>All Education Facilities</option>
                        </select>
                    </div>
                    <div class="span2">
                        <button type="button" id="educationSearch" class="btn btn-outline-info" style="color:#E65100; background-color: transparent; background-image:none; border-color:#E65100; text-align: left; padding: 12px;">
                            Search
                        </button>
                    </div>
                </div>
                <div class="span8 mapDetail">
                    <div id="mapEducation" style="height: 600px; width:100%"></div>
                </div>
                <div class="span12" id="description">

                </div>
            </div>
        </div>
    </div>
</section>


<!--Section: Healthcare Services-->
<section id="geelong-healthcare" class="section">
    <div class="container">
        <button class="collapsible">
            Healthcare Service
        </button>
        <div class="content">
            <div class="row">
                <div class="span12">
                    <h6 style="text-align:center; margin:auto; font-family:Brandon Grotesque; font-size: 22px; margin-bottom:20px;">
                        Geelong has world class health care and all permanent residents are entitled to benefits. The Medicare system is publicly funded,
                        and provides permanent residents with access to both hospital and non-emergency care.
                    </h6>
                </div>
                <div class="span4">
                    <hr />
                    <div class="span2">
                        <select class="form-control form-control-sm filter-selection" style="color:black;" id="healthList">
                            <option>Emergency Hospital</option>
                            <option>Maternal & Childcare</option>
                            <option>All Healthcare Service</option>
                        </select>
                    </div>
                    <div class="span2">
                        <button type="button" id="healthSearch" class="btn btn-outline-info" style="color:#E65100; background-color: transparent; background-image:none; border-color:#E65100; text-align: left; padding: 12px;">
                            Search
                        </button>
                    </div>
                </div>
                <div class="span8 mapDetail">
                    <div id="mapHospital" style="height: 600px; width:100%"></div>
                </div>
                <div class="span12" id="healthDescription">

                </div>
            </div>
        </div>
    </div>
</section>
<!--Section: Restaurant Services-->
<section id="geelong-restaurant" class="section">
    <div class="container">
        <button class="collapsible">
            Restaurant Service
        </button>
        <div class="content">
            <div class="row">
                <div class="span12">
                    @(Html.Kendo().Grid<RestaurantModel>()
                                      .Name("RestaurantGrid")
                                       .Columns(columns =>
                                       {
                                           columns.Template(@<text> </text>).Title("Image").ClientTemplate("<img src='#:restaurantImage#' />").Width(10);
                                           columns.Bound(c => c.restaurantName).Title("Restaurant Name")
                                           .ClientTemplate("<a href='#:restaurantPhotoUrl#'>#:restaurantName#</a>")
                                           .Width(10);
                                           columns.Bound(c => c.restaurantCuisines).Title("Cuisines").Width(20);
                                           columns.Bound(c => c.restaurantRating).Title("Rating").Width(20).HtmlAttributes(new { style = "color: rgb(128, 0, 255)" });
                                           columns.Bound(c => c.restaurantAddress).Title("Address").Width(20);
                                       })
                                       .Editable(editable => editable.Mode(GridEditMode.InLine))
                                       .Scrollable(s => s.Height("auto"))
                                       .Filterable(filterable => filterable.Extra(false))
                                       .Sortable()
                                       .Pageable()
                                       .DataSource(dataSource => dataSource
                                       .Ajax()
                                       .PageSize(5)
                                       .Model(model =>
                                       {
                                           model.Id(p => p.id);
                                           model.Field(p => p.restaurantName).Editable(false);
                                       })
                                       .Read(read => read.Action("GeelongRestaurantList_Read", "City"))
                                       )
                                       .AutoBind(true)
                                       .Selectable(selectable => selectable.Mode(GridSelectionMode.Single))
                                       .Resizable(resize => resize.Columns(true))
                                       .Navigatable()
                    )
                </div>
            </div>

        </div>
    </div>
</section>

<!--Section: Job Opportunities-->
<section id="geelong-job" class="section">
    <div class="container">
        <button class="collapsible">
            Job Opportunties
        </button>
        <div class="content">
            <div class="row">
                <div class="span8">
                    @*<div id="businessChart"></div>*@
                    <div id="jobPieChart"></div>
                </div>
                <div class="span4 mapDetail">
                    <p>
                        Geelong has roughly 10,000 business running which has given employment to more than 80,000 people in the region. The professional sector has the most number of job opportunities in the region followed by trade workers and community and personal service workers. Geelong has seen a tremendous growth in job opportunities in the past 10 years. Several opportunities in the engineering and manufacturing industries have grown over the time. There are many managerial and sales positions available as well.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="~/js/GeelongMap.js"></script>

<!--Education Search-->
<script src="~/js/Geelong/Education/geelong_primary_school.js"></script>
<script src="~/js/Geelong/Education/geelong_secondary_school.js"></script>
<script src="~/js/Geelong/Education/geelong_advanced_colleges.js"></script>
<script src="~/js/Geelong/Education/geelong_tertiary.js"></script>
<script src="~/js/Geelong/Education/geelong_all_education.js"></script>
<script src="~/js/Geelong/Education/Geelong_education.js"></script>


<!--Healthcare Search-->
<script src="~/js/Geelong/Healthcare/geelong_emergency_hospital.js"></script>
<script src="~/js/Geelong/Healthcare/geelong_maternal_and_child_health_service.js"></script>
<script src="~/js/Geelong/Healthcare/geelong_all_healthcare.js"></script>
<script src="~/js/Geelong/Healthcare/Geelong_healthcare.js"></script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=@TempData["GoogleApiKey"]&callback=initMap">
</script>

<script type="text/javascript">
    anychart.onDocumentReady(function () {
        // create pie chart
        var chart = anychart.pie();

        // set chart title
        chart.title('Top 5 Languages in Geelong (excluding English)');

        // set chart data
        chart.data([
            { x: 'Italian', value: 2617 },
            { x: 'Croatian', value: 2184 },
            { x: 'Mandarin', value: 1841 },
            { x: 'Macedonian', value: 1078 },
            { x: 'Greek', value: 1033 }
        ]);

        // set container id for the chart
        chart.container('ethnic');

        // initiate chart drawing
        chart.draw();


        //Chart for job
        var chartJob = anychart.pie();

        // set chart title
        chartJob.title('Top 8 Occupation in Geelong');

        // set chart data
        chartJob.data([
            { x: 'Professionals', value: 26367 },
            { x: 'Technicians and Trades Workers', value: 18883 },
            { x: 'Community and Personal Service Workers', value: 15714 },
            { x: 'Clerical and Administrative Workers', value: 15082 },
            { x: 'Managers', value: 14520 },
            { x: 'Sales Workers', value: 12707 },
            { x: 'Labourers', value: 12505 },
            { x: 'Machinery Operators and Drivers', value: 7191 },
        ]);

        // set container id for the chart
        chartJob.container('jobPieChart');

        // initiate chart drawing
        chartJob.draw();

    });


    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = 90 + "%";
            }
        });
    }

    //Restaurant Table
    var expandedRow;

    //Create client campaign template
    function detailExpand(e) {
        var grid = $('#RestaurantGrid').data('kendoGrid');
        // Only one open at a time
        if (expandedRow != null && expandedRow[0] != e.masterRow[0]) {
            grid.collapseRow(expandedRow);
        }
        expandedRow = e.masterRow;
        grid.select(expandedRow);
    }
</script>
